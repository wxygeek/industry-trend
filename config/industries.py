"""申万行业分类（2021版）- 一级行业（31个）和二级行业（124个）的代码和名称"""

SW_LEVEL1_INDUSTRIES = {
    "801010": "农林牧渔",
    "801030": "基础化工",
    "801040": "钢铁",
    "801050": "有色金属",
    "801080": "电子",
    "801110": "家用电器",
    "801120": "食品饮料",
    "801130": "纺织服饰",
    "801140": "轻工制造",
    "801150": "医药生物",
    "801160": "公用事业",
    "801170": "交通运输",
    "801180": "房地产",
    "801200": "商贸零售",
    "801210": "社会服务",
    "801230": "综合",
    "801710": "建筑材料",
    "801720": "建筑装饰",
    "801730": "电力设备",
    "801740": "国防军工",
    "801750": "计算机",
    "801760": "传媒",
    "801770": "通信",
    "801780": "银行",
    "801790": "非银金融",
    "801880": "汽车",
    "801890": "机械设备",
    "801950": "煤炭",
    "801960": "石油石化",
    "801970": "环保",
    "801980": "美容护理",
}

# 申万二级行业分类（2021版）- 124个二级行业
# 格式: {指数代码: (二级行业名称, 所属一级行业指数代码)}
# 数据来源: akshare sw_index_second_info() 验证
SW_LEVEL2_INDUSTRIES = {
    # ---- 农林牧渔 (801010) ----
    "801016": ("种植业", "801010"),
    "801015": ("渔业", "801010"),
    "801014": ("饲料", "801010"),
    "801012": ("农产品加工", "801010"),
    "801017": ("养殖业", "801010"),
    "801018": ("动物保健", "801010"),
    # ---- 基础化工 (801030) ----
    "801033": ("化学原料", "801030"),
    "801034": ("化学制品", "801030"),
    "801032": ("化学纤维", "801030"),
    "801036": ("塑料", "801030"),
    "801037": ("橡胶", "801030"),
    "801038": ("农化制品", "801030"),
    "801039": ("非金属材料", "801030"),
    # ---- 钢铁 (801040) ----
    "801043": ("冶钢原料", "801040"),
    "801044": ("普钢", "801040"),
    "801045": ("特钢", "801040"),
    # ---- 有色金属 (801050) ----
    "801051": ("金属新材料", "801050"),
    "801055": ("工业金属", "801050"),
    "801053": ("贵金属", "801050"),
    "801054": ("小金属", "801050"),
    "801056": ("能源金属", "801050"),
    # ---- 电子 (801080) ----
    "801081": ("半导体", "801080"),
    "801083": ("元件", "801080"),
    "801084": ("光学光电子", "801080"),
    "801082": ("其他电子", "801080"),
    "801085": ("消费电子", "801080"),
    "801086": ("电子化学品", "801080"),
    # ---- 家用电器 (801110) ----
    "801111": ("白色家电", "801110"),
    "801112": ("黑色家电", "801110"),
    "801113": ("小家电", "801110"),
    "801114": ("厨卫电器", "801110"),
    "801115": ("照明设备", "801110"),
    "801116": ("家电零部件", "801110"),
    # ---- 食品饮料 (801120) ----
    "801124": ("食品加工", "801120"),
    "801125": ("白酒", "801120"),
    "801126": ("非白酒", "801120"),
    "801127": ("饮料乳品", "801120"),
    "801128": ("休闲食品", "801120"),
    "801129": ("调味发酵品", "801120"),
    # ---- 纺织服饰 (801130) ----
    "801131": ("纺织制造", "801130"),
    "801132": ("服装家纺", "801130"),
    "801133": ("饰品", "801130"),
    # ---- 轻工制造 (801140) ----
    "801143": ("造纸", "801140"),
    "801141": ("包装印刷", "801140"),
    "801142": ("家居用品", "801140"),
    "801145": ("文娱用品", "801140"),
    # ---- 医药生物 (801150) ----
    "801151": ("化学制药", "801150"),
    "801155": ("中药", "801150"),
    "801152": ("生物制品", "801150"),
    "801154": ("医药商业", "801150"),
    "801153": ("医疗器械", "801150"),
    "801156": ("医疗服务", "801150"),
    # ---- 公用事业 (801160) ----
    "801161": ("电力", "801160"),
    "801163": ("燃气", "801160"),
    # ---- 交通运输 (801170) ----
    "801178": ("物流", "801170"),
    "801179": ("铁路公路", "801170"),
    "801991": ("航空机场", "801170"),
    "801992": ("航运港口", "801170"),
    # ---- 房地产 (801180) ----
    "801181": ("房地产开发", "801180"),
    "801183": ("房地产服务", "801180"),
    # ---- 商贸零售 (801200) ----
    "801202": ("贸易", "801200"),
    "801203": ("一般零售", "801200"),
    "801204": ("专业连锁", "801200"),
    "801206": ("互联网电商", "801200"),
    # ---- 社会服务 (801210) ----
    "801218": ("专业服务", "801210"),
    "801219": ("酒店餐饮", "801210"),
    "801993": ("旅游及景区", "801210"),
    "801994": ("教育", "801210"),
    # ---- 综合 (801230) ----
    "801231": ("综合", "801230"),
    # ---- 建筑材料 (801710) ----
    "801711": ("水泥", "801710"),
    "801712": ("玻璃玻纤", "801710"),
    "801713": ("装修建材", "801710"),
    # ---- 建筑装饰 (801720) ----
    "801721": ("房屋建设", "801720"),
    "801722": ("装修装饰", "801720"),
    "801723": ("基础建设", "801720"),
    "801724": ("专业工程", "801720"),
    "801726": ("工程咨询服务", "801720"),
    # ---- 电力设备 (801730) ----
    "801731": ("电机", "801730"),
    "801733": ("其他电源设备", "801730"),
    "801735": ("光伏设备", "801730"),
    "801736": ("风电设备", "801730"),
    "801737": ("电池", "801730"),
    "801738": ("电网设备", "801730"),
    # ---- 国防军工 (801740) ----
    "801741": ("航天装备", "801740"),
    "801742": ("航空装备", "801740"),
    "801743": ("地面兵装", "801740"),
    "801744": ("航海装备", "801740"),
    "801745": ("军工电子", "801740"),
    # ---- 计算机 (801750) ----
    "801101": ("计算机设备", "801750"),
    "801103": ("IT服务", "801750"),
    "801104": ("软件开发", "801750"),
    # ---- 传媒 (801760) ----
    "801764": ("游戏", "801760"),
    "801765": ("广告营销", "801760"),
    "801766": ("影视院线", "801760"),
    "801767": ("数字媒体", "801760"),
    "801769": ("出版", "801760"),
    "801995": ("电视广播", "801760"),
    # ---- 通信 (801770) ----
    "801223": ("通信服务", "801770"),
    "801102": ("通信设备", "801770"),
    # ---- 银行 (801780) ----
    "801782": ("国有大型银行", "801780"),
    "801783": ("股份制银行", "801780"),
    "801784": ("城商行", "801780"),
    "801785": ("农商行", "801780"),
    # ---- 非银金融 (801790) ----
    "801193": ("证券", "801790"),
    "801194": ("保险", "801790"),
    "801191": ("多元金融", "801790"),
    # ---- 汽车 (801880) ----
    "801093": ("汽车零部件", "801880"),
    "801092": ("汽车服务", "801880"),
    "801881": ("摩托车及其他", "801880"),
    "801095": ("乘用车", "801880"),
    "801096": ("商用车", "801880"),
    # ---- 机械设备 (801890) ----
    "801072": ("通用设备", "801890"),
    "801074": ("专用设备", "801890"),
    "801076": ("轨交设备", "801890"),
    "801077": ("工程机械", "801890"),
    "801078": ("自动化设备", "801890"),
    # ---- 煤炭 (801950) ----
    "801951": ("煤炭开采", "801950"),
    "801952": ("焦炭", "801950"),
    # ---- 石油石化 (801960) ----
    "801962": ("油服工程", "801960"),
    "801963": ("炼化及贸易", "801960"),
    # ---- 环保 (801970) ----
    "801971": ("环境治理", "801970"),
    "801972": ("环保设备", "801970"),
    # ---- 美容护理 (801980) ----
    "801981": ("个护用品", "801980"),
    "801982": ("化妆品", "801980"),
}


def get_industries(level: int) -> dict[str, str]:
    """获取指定级别的行业字典（code -> name 扁平格式）"""
    if level == 1:
        return SW_LEVEL1_INDUSTRIES
    elif level == 2:
        return {code: name for code, (name, _) in SW_LEVEL2_INDUSTRIES.items()}
    else:
        raise ValueError(f"不支持的行业级别: {level}，仅支持 1 或 2")


def get_level2_parent(code: str) -> str | None:
    """获取二级行业所属的一级行业代码"""
    entry = SW_LEVEL2_INDUSTRIES.get(code)
    return entry[1] if entry else None


def get_level2_by_parent(parent_code: str) -> dict[str, str]:
    """获取指定一级行业下的所有二级行业"""
    return {
        code: name
        for code, (name, pc) in SW_LEVEL2_INDUSTRIES.items()
        if pc == parent_code
    }


# SWS Research website URLs
SWS_BASE_URL = "https://www.swsresearch.com"
SWS_DETAIL_URL = f"{SWS_BASE_URL}/institute_sw/allIndex/releasedIndex/releasedetail"
SWS_DOWNLOAD_API = f"{SWS_BASE_URL}/insWechatSw/swIndex/quotationexportExc"
